# 연속행렬곱셈(Memoization)

여러 개의 행렬을 곱할 때 각 행렬 원소의 곱셈의 총 횟수를 최소한으로 하는 행렬의 곱셈을 계산하 는 프로그램을 작성하시오. 단, 원소 곱셈의 최소 횟수를 정의하는 점화식을 Memoization기법을 이용한 동적계획법 프로그램으로 구현하시오.
여러 개의 행렬들을 곱할 때 어떻게 곱해야 할지에 대한 모호함을 없애기 위해서는 괄호로 묶을 수 있다. 행렬의 곱셈은 결합 법칙이 성립하므로 이 행렬들을 어떤 방법으로 괄호로 묶더라도 그 곱셈의 결과는 동일하다.
어떤 행렬들의 곱이 한 개의 행렬로만 만들어졌거나 혹은 두 개의 완전하게 괄호로 묶인 행렬 곱 의 곱이 괄호로 묶였을 때 이를 완전하게 괄호로 묶였다고 표현한다. 예를 들어 다음은 완전하 게 괄호로 묶인 행렬들의 곱이다.

𝑀𝑀1, (𝑀𝑀1𝑀𝑀2), (𝑀𝑀1(𝑀𝑀2𝑀𝑀3)), ((𝑀𝑀1𝑀𝑀2)𝑀𝑀3)

예를 들어, 4개의 행렬 M1,M2,M3,M4가 주어졌고, 각 행렬의 크기가 각각 20*2, 2*30, 30*12, 12*8 이라고 하자.

이 네 개의 행렬의 곱 (M1M2M3M4)을 계산할 때, 이 행렬을 곱하는 여러 개의 수식에 대하여, 그 수식에서 곱하게 되는 행렬 원소의 곱셈의 총 횟수는 다음과 같다.

(((𝑀𝑀1𝑀𝑀2)𝑀𝑀3)𝑀𝑀4) :20× 2×30 + 20×30×12 + 20×12×8 =10,320
((𝑀𝑀1(𝑀𝑀2𝑀𝑀3))𝑀𝑀4) :2×30×12 + 20× 2×12 + 20×12×8 =3,120
((𝑀𝑀1𝑀𝑀2)(𝑀𝑀3𝑀𝑀4)) :20× 2×30 + 30×12×8 + 20×30×8 =8,880
(𝑀𝑀1((𝑀𝑀2𝑀𝑀3)𝑀𝑀4)) :2×30×12 + 2×12×8 + 20×2×8 =1,232
((𝑀𝑀1(𝑀𝑀2(𝑀𝑀3𝑀𝑀4))) :30×12×8 + 2×30×8 + 20×2×8 =3,680

따라서 위 4 개의 행렬을 곱할 때, 각 행렬원소의 곱셈의 총 횟수의 최소 횟수는 1,232이며, 수식은 (𝑀𝑀 ((𝑀𝑀 𝑀𝑀 )𝑀𝑀 ))이다.

## 입력

입력은 표준입력(standard input)을 사용한다. 입력은 t 개의 테스트 케이스로 주어진다. 입력 파일의 첫 번째 줄에 테스트 케이스의 개수를 나타내는 정수 t 가 주어진다. 두 번째 줄부터 두 줄에 한 개씩 의 테스트 케이스가 입력된다. 각 테스트 케이스에 해당되는 첫 번째 줄에는 곱해야 할 행렬의 개수를 나타내는정수𝑛𝑛(1<𝑛 ≤100)이먼저주어지고,그다음줄에는 𝑛+1개의정수𝑑0,𝑑1,...,𝑑𝑛 (1≤ 𝑑𝑖 ≤100,𝑖=0,...,𝑛)이주어진다.이정수들은𝑘(1≤𝑘≤𝑛)번째행렬𝑀𝑘 의크기𝑑𝑘−1×𝑑𝑘 를나 타낸다. 이 정수들 사이에는 한 개의 공백이 있으며, 잘못된 데이터가 입력되는 경우는 없다.

## 출력

출력은 표준출력(standard output)을 사용한다. 입력되는 테스트 케이스의 순서대로 다음 줄에 이어 서 각 테스트 케이스의 결과를 출력한다. 각 테스트 케이스에 해당하는 출력의 첫 줄에 입력되는 행렬 을 곱하는 행렬의 수식을 완전하게 괄호로 묶인 수식으로 출력하고, 두 번째 줄에 행렬 원소의 곱셈의 최소횟수를 나타내는 정수를 출력한다. 행렬의 수식이 여러 개인 경우에는 그 중의 한 개를 임의로 선 택하여 출력한다.

## 입력과 출력의 예

|                                                          입력                                                           |           출력           |
| :---------------------------------------------------------------------------------------------------------------------: | :----------------------: |
| 3 <br/> 4 <br/> 20 2 30 12 8 <br/> 2 <br/> 2 3 4 <br/> 25 <br/> 4 5 4 4 3 8 10 7 9 8 3 10 11 4 9 11 7 6 5 3 4 5 5 6 3 3 | 1232 <br/> 24 <br/> 2814 |
