# 체스판에서 기사의 여행(KnightTour)

서양 장기인 체스(chess)는 8 개의 행과 열로 만들어진 격자판 모양의 체스판에서 여러 종류의 체스말을 움직여서 상대편의 왕(king)을 잡는 편이 이기는 게임이다. 다음 그림과 같이 체스판 의 각 행을 위에서 아래로, 각 열은 왼쪽에서 오른쪽으로 각각 1번부터 8번까지 번호를 부여하 자. 또한, 체스판에서 𝑖-번째 행과 𝑗-번째 열에 위치한 작은 정사각형(셀이라 부름)의 위치를 〈𝑖,𝑗〉로 표시하자. 체스판에는 모두 64개의 셀이 있으며, 이 셀에 체스말을 놓는다.
기사(knight)는 여러 체스말 중의 하나로서, 기사는 현재 놓여진 셀에서 다음 그림 (a)와 같이 최대 8가지 방향으로 움직여 다음 셀로 옮길 수 있다. 즉, 현재 위치가 〈𝑖,𝑗〉인 셀에 있는 기사 는 위치가 〈𝑖−2,𝑗−1〉, 〈𝑖−2,𝑗+1〉, 〈𝑖−1,𝑗+2〉, 〈𝑖+1,𝑗+2〉, 〈𝑖+2,𝑗+1〉, 〈𝑖+2,𝑗−1〉, 〈𝑖+ 1,𝑗−2〉, 〈𝑖−1,𝑗−2〉인 셀로 옮겨갈 수 있다. 옮겨갈 셀의 위치가 체스판을 벗어나게 되면 그 셀로는 움직일 수 없다.

위 그림 (b)는 위치가 〈1,8〉인 셀에 처음 놓여진 기사가 이전에 방문한 셀은 다시 방문하지 않으 면서, 체스판의 64 개의 셀을 모두 방문하는 경로를 나타낸다.
이렇게 기사가 체스판의 모든 셀을 방문하는 경로를 찾는 문제는 임의의 크기의 체스판에서도 똑 같이 정의할 수 있다. 다음 그림 (c)는 행과 열의 크기가 각각 6, 8인 체스판에서 위치가 〈3,4〉 인 셀에 처음 놓여진 기사가 48개의 셀을 모두 방문하는 기사의 경로를 나타낸다. 또한 다음 그 림 (d)는 행과 열의 크기가 각각 6, 5 인 체스판에서 위치가 〈1,2〉 인 셀에서 시작하는 기사의 경 로를 나타낸다.

특정한 크기의 체스판에서, 기사가 주어진 위치의 셀에서 출발하여 체스판의 모든 셀을 오직 한 번만 방문하면서, 모든 셀을 모두 방문하는 경로를 계산하는 프로그램을 작성하시오.

## 입력

입력은 표준입력(standard input)을 사용한다. 입력은 𝑡𝑡개의 테스트 케이스로 주어진다. 입력의 첫 번째 줄에 테스트 케이스의 개수를 나타내는 정수 𝑡가 주어진다. 두 번째 줄부터 𝑡개의 줄에 는 한 줄에 한 개의 테스트 케이스에 해당하는 네 개의 정수 𝑚𝑛𝑠𝑡(2≤𝑚,𝑛≤8,1≤𝑠≤𝑚,1≤ 𝑡 ≤ 𝑛)가 입력된다. 첫 번째 정수 𝑚은 체스판의 행의 개수를 나타내고, 두 번째 정수 𝑛은 열의 개수를 나타낸다. 또한 두 정수 𝑠, 𝑡는 각각 기사가 처음 출발한 셀의 위치를 나타내는 행과 열 의 번호를 나타낸다. 각 정수들 사이에는 한 개의 공백이 있으며, 잘못된 데이터가 입력되는 경 우는 없다.

## 출력

출력은 표준출력(standard output)을 사용한다. 입력되는 테스트 케이스의 순서대로 다음 줄에 이어서 각 테스트 케이스의 결과를 출력한다. 각 테스트 케이스에 해당하는 출력에는 주어진 체 스판에서 기사가 주어진 셀에서 출발하여 체스판의 모든 다른 셀을 방문하는 경로가 존재하면 1 을 출력하고 그렇지 않으면 0을 출력한다. 경로가 존재하는 경우에는 그 다음 줄부터 𝑚𝑚개의 줄 에 기사가 옮겨가는 경로를 다음과 같이 출력한다. 기사가 출발하는 셀에 1번을 부여하고, 그 다음으로 옮겨가는 셀들에는 순서대로 2, 3, 4, ... 등으로 부여하고, 이러한 번호를 체스판의 첫 번째 행부터 한 줄에 한 행씩 출력한다. 또한 같은 행에서는 첫 번째 열부터 마지막 열까지 순 서대로 출력한다. 같은 줄에 출력되는 각 정수들 사이에는 한 개의 공백을 둔다.

## 입력과 출력의 예

|                    입력                    |                                                                                                                                             출력                                                                                                                                             |
| :----------------------------------------: | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------: |
| 3<br/> 6 8 3 4<br/> 6 5 1 2<br/> 4 4 1 2 1 | 1<br/>32 29 38 25 2 17 8 19 <br/> 39 26 31 28 37 20 3 16 <br/>30 33 24 1 46 7 18 9<br/> 43 40 27 36 21 12 15 4<br/> 34 23 42 45 6 47 10 13<br/> 41 44 35 22 11 14 5 48<br/> 1<br/>30 1 8 17 24<br/>7 18 23 2 9<br/>22 29 6 25 16<br/>19 14 21 10 3<br/>28 5 12 15 26<br/>13 20 27 4 11<br/>0 |
